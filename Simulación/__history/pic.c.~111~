#include <16f877a.h>
#device adc=10
#include <stdio.h>
#fuses XT,NOWDT,NOPROTECT,NOLVP,PUT,BROWNOUT
#use DELAY (CLOCK=4MHz)
#use rs232 (baud=9600,parity=N,xmit=pin_c6,rcv=pin_c7,bits=8)

#DEFINE LED PORTC, 0
#BYTE PORTC = 0X07

float tiempo;
int distancia;
int dato;

#define trigger pin_B1
#define echo pin_B0


void main(){

   while(true){
      output_high(trigger);
      delay_us(10);
      output_low(trigger);
      
      
      
      while(!input(echo));
      set_timer1(0);
      
      while(input(echo));
      tiempo = get_timer1();
      distancia=(tiempo/2)*(0.0343);
      
      putc(distancia);
      
      delay_ms(500);
   }
}
